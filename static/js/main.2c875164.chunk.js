(this["webpackJsonpseiheki-werewolf-front"]=this["webpackJsonpseiheki-werewolf-front"]||[]).push([[0],{67:function(e,t,n){e.exports=n(80)},80:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),i=n.n(c),o=n(10),l=n(86),u=n(91),s=n(87),h=n(12),m=n(89),f=n(61),d=n(29);function p(){return a.a.createElement("div",null,a.a.createElement("h2",null,"\u3054\u6e05\u904a\u306e\u3057\u304a\u308a"),a.a.createElement("p",null,"\u30ab\u30fc\u30c9\u306b\u304a\u540d\u524d\u3068\u3054\u6027\u7656\u3092\u304a\u66f8\u304d\u306b\u306a\u3063\u3066\u3044\u305f\u3060\u304d\u3001\u305d\u308c\u3092\u96c6\u3081\u3066\u5c71\u672d\u3092\u4f5c\u308a\u307e\u3059\u3002"),a.a.createElement("p",null,"\u5168\u54e1\u306e\u3054\u6027\u7656\u304c\u96c6\u307e\u308a\u307e\u3057\u305f\u3089\u3001\u5c71\u672d\u3092\u30b7\u30e3\u30c3\u30d5\u30eb\u3057\u3066\u4e00\u756a\u4e0a\u3092\u3081\u304f\u308a\u3001\u305d\u306e\u6027\u7656\u304c\u3069\u306e\u304a\u5b22\u69d8\u306e\u3082\u306e\u304b\u3092\u5f53\u3066\u3066\u3044\u305f\u3060\u304d\u307e\u3059\u3002"))}var v=n(88);function E(e){var t=e.children;return a.a.createElement("div",{style:{whiteSpace:"pre-wrap"}},t)}var k=n(85),C=n(57);function b(){return a.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z"}))}function w(e){var t=e.children;return a.a.createElement("div",null,a.a.createElement(b,null)," ",t)}function y(){return a.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M14.046 2.242l-4.148-.01h-.002c-4.374 0-7.8 3.427-7.8 7.802 0 4.098 3.186 7.206 7.465 7.37v3.828c0 .108.044.286.12.403.142.225.384.347.632.347.138 0 .277-.038.402-.118.264-.168 6.473-4.14 8.088-5.506 1.902-1.61 3.04-3.97 3.043-6.312v-.017c-.006-4.367-3.43-7.787-7.8-7.788zm3.787 12.972c-1.134.96-4.862 3.405-6.772 4.643V16.67c0-.414-.335-.75-.75-.75h-.396c-3.66 0-6.318-2.476-6.318-5.886 0-3.534 2.768-6.302 6.3-6.302l4.147.01h.002c3.532 0 6.3 2.766 6.302 6.296-.003 1.91-.942 3.844-2.514 5.176z"}))}function g(e){var t=e.children;return a.a.createElement("div",null,a.a.createElement(y,null)," ",t)}function j(e){var t=e.value;return a.a.createElement(k.a,null,a.a.createElement(C.a,{xs:{span:4,offset:2},onClick:function(t){return e.onCommentClick(t)}},a.a.createElement(g,null,t.commentIds.length)),a.a.createElement(C.a,{xs:{span:4},onClick:function(t){return e.onUpvotesClick(t)}},a.a.createElement(w,null,t.upvotes)))}function I(e){var t=e.value;return a.a.createElement("div",{className:"border"},a.a.createElement("div",{className:"m-4"},a.a.createElement("div",null,a.a.createElement("strong",null,t.author)),a.a.createElement(E,null,t.content)),a.a.createElement(j,{value:t,onUpvotesClick:function(t){return e.onUpvotesClick(t)},onCommentClick:function(t){return e.onCommentClick(t)}}))}var O=n(30);function S(e){var t=e.value,n=e.onUpvotesClick;return a.a.createElement(k.a,null,a.a.createElement(C.a,{xs:{span:4,offset:6},onClick:function(e){return n(e)}},a.a.createElement(w,null,t.upvotes)))}function x(e){var t=e.value,n=e.onUpvotesClick;return a.a.createElement("div",{className:"border"},a.a.createElement("div",{className:"m-4"},a.a.createElement("div",null,a.a.createElement("strong",null,t.author)),a.a.createElement(E,null,t.content)),a.a.createElement(S,{value:t,onUpvotesClick:function(e){return n(e)}}))}var T=n(6),H=n(8),U=n.n(H),N=n(16),_=n(58),F=n(59),R=function(){function e(t){Object(_.a)(this,e),this.host=void 0,this.host=t}return Object(F.a)(e,[{key:"postSeihekis",value:function(){var e=Object(N.a)(U.a.mark((function e(t,n){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t&&""!==n){e.next=2;break}throw new Error("An author or a content is not filled.");case 2:return r=["seihekiContent="+encodeURIComponent(n),"seihekiAuthor="+encodeURIComponent(t),"seihekiUpvotes="+encodeURIComponent(0)].join("&"),e.abrupt("return",fetch(this.host+"/v3/seihekis",{method:"POST",body:r,headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"})}).then((function(e){return e.json()})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSeiheki",value:function(){var e=Object(N.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.host+"/v3/seihekis/"+t,{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){return Object(T.a)({seihekiId:t},e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSeihekis",value:function(){var e=Object(N.a)(U.a.mark((function e(t,n){var r,a,c,i=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:0,a=i.length>3&&void 0!==i[3]?i[3]:"",c={author:t,offset:r+"",limit:n+"",q:a},e.abrupt("return",fetch(this.host+"/v3/seihekis?"+new URLSearchParams(c),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){return Object(T.a)(Object(T.a)({},e),{},{collection:e.collection.map(L)})})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"postSeihekiComment",value:function(){var e=Object(N.a)(U.a.mark((function e(t,n,r){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n&&""!==r){e.next=2;break}throw new Error("InvalidArgumentError");case 2:return a=["commentContent="+encodeURIComponent(r),"commentAuthor="+encodeURIComponent(n),"commentUpvotes="+encodeURIComponent(0)].join("&"),e.abrupt("return",fetch(this.host+"/v3/seihekis/"+t+"/comments",{method:"POST",body:a,headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"})}).then((function(e){return e.json()})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getSeihekiComment",value:function(){var e=Object(N.a)(U.a.mark((function e(t,n){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.host+"/v3/seihekis/"+t+"/comments/"+n,e.abrupt("return",fetch(r,{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){return Object(T.a)({commentId:n},e)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"patchSeihekiCommentUpvotes",value:function(){var e=Object(N.a)(U.a.mark((function e(t,n){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.host+"/v3/seihekis/"+t+"/comments/"+n+"/upvotes/",e.abrupt("return",fetch(r,{method:"PATCH",mode:"cors",body:"patchOp=increment",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"})}).then((function(){})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"patchSeihekiUpvotes",value:function(){var e=Object(N.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.host+"/v3/seihekis/"+t+"/upvotes",{method:"PATCH",mode:"cors",body:"patchOp=increment",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"})}).then((function(){})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"postCards",value:function(){var e=Object(N.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.host+"/v3/cards",{method:"POST",mode:"cors"}).then((function(){})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCards",value:function(){var e=Object(N.a)(U.a.mark((function e(t){var n,r,a=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,r={offset:n.toString(),limit:t.toString()},e.abrupt("return",fetch(this.host+"/v3/cards?"+new URLSearchParams(r),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){return Object(T.a)(Object(T.a)({},e),{},{collection:e.collection.map(L)})})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCard",value:function(){var e=Object(N.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.host+"/v3/cards/"+t,{method:"DELETE",mode:"cors"}).then((function(){})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHistories",value:function(){var e=Object(N.a)(U.a.mark((function e(t){var n,r,a=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,r={offset:n.toString(),limit:t.toString()},e.abrupt("return",fetch(this.host+"/v3/histories?"+new URLSearchParams(r),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){return Object(T.a)(Object(T.a)({},e),{},{collection:e.collection.map(L)})})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function L(e){var t=Object(h.a)(e,2),n=t[0],r=t[1];return Object(T.a)({seihekiId:n},r)}var D=a.a.createContext(new R("http://localhost:8080"));function z(e){var t=Object(r.useContext)(D),n=Object(r.useState)([]),c=Object(h.a)(n,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){Promise.all(e.commentIds.map((function(n){return t.getSeihekiComment(e.seihekiId,n)}))).then((function(e){o(e)}))}),[e.seihekiId,e.commentIds]),Object.entries(i).map((function(n){var r=Object(h.a)(n,2),c=r[0],l=r[1];return a.a.createElement(x,{key:l.commentId,value:l,onUpvotesClick:function(){return function(e,t,n,r,a,c){n.patchSeihekiCommentUpvotes(r,t).then((function(){return n.getSeihekiComment(r,t)})).then((function(t){var n=Object(O.a)(a);return n[e]=t,n})).then((function(e){c(e)}))}(c,l.commentId,t,e.seihekiId,i,o)}})}))}function P(e,t){return{type:"FETCH_SEIHEKI",payload:e.getSeiheki(t)}}function M(){return a.a.createElement("svg",{width:"2em",height:"2em",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}))}function G(e){var t=e.value,n=Object(r.useState)(!1),c=Object(h.a)(n,2),i=c[0],l=c[1],u=Object(r.useState)(""),s=Object(h.a)(u,2),p=s[0],E=s[1],k=Object(o.c)((function(e){return e.author})),C=p<=0||k<=0,b=Object(r.useContext)(D),w=Object(o.b)();return a.a.createElement("div",null,a.a.createElement(I,{value:t,onUpvotesClick:function(){return A(t.seihekiId,b,w)},onCommentClick:function(){return l(!0)}}),a.a.createElement(v.a,{show:i,onHide:function(){return l(!1)}},a.a.createElement(v.a.Header,{closeButton:!0},a.a.createElement(v.a.Title,null,"\u304a\u5b22\u69d8\u5fa1\u4e00\u540c\u304b\u3089\u306e\u3054\u8a55\u6ce8")),a.a.createElement(v.a.Body,null,a.a.createElement(I,{value:t,onUpvotesClick:function(){return A(t.seihekiId,b,w)},onCommentClick:function(){}}),a.a.createElement("div",{className:"p-1",style:{backgroundColor:"#e6ecf0"}}),a.a.createElement(m.a,null,a.a.createElement(m.a.Group,{className:"mb-0"},a.a.createElement(d.a,{className:"form-control",placeholder:"\u8a55\u6ce8\u3092\u3054\u5165\u529b\u304f\u3060\u3055\u3044",value:p,onChange:function(e){return E(e.target.value)}}))),a.a.createElement("div",{className:"text-right"},a.a.createElement(f.a,{variant:"link",disabled:C,style:{fill:"#1da1f2"},onClick:function(){return function(e,t,n,r,a,c){return r.postSeihekiComment(e,t,n).then((function(){return a("")})).then((function(){return c(P(r,e))}))}(t.seihekiId,k,p,b,E,w)}},a.a.createElement(M,null))),a.a.createElement(z,{seihekiId:t.seihekiId,commentIds:t.commentIds}))))}function A(e,t,n){t.patchSeihekiUpvotes(e).then((function(){return n(P(t,e))}))}function B(e){return e.value.map((function(e){return a.a.createElement(G,{key:e.seihekiId,value:e})}))}function K(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M9 12l-4.463 4.969-4.537-4.969h3c0-4.97 4.03-9 9-9 2.395 0 4.565.942 6.179 2.468l-2.004 2.231c-1.081-1.05-2.553-1.699-4.175-1.699-3.309 0-6 2.691-6 6h3zm10.463-4.969l-4.463 4.969h3c0 3.309-2.691 6-6 6-1.623 0-3.094-.65-4.175-1.699l-2.004 2.231c1.613 1.526 3.784 2.468 6.179 2.468 4.97 0 9-4.03 9-9h3l-4.537-4.969z"}))}function J(){var e=a.a.useState(""),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(o.c)((function(e){return e.author})),i=c.length<=0||n.length<=0,l=Object(o.c)((function(e){return e.seihekis})),u=Object(o.b)(),s=a.a.useContext(D);return a.a.useEffect((function(){Y(s,c,u)}),[c]),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"text-center"},a.a.createElement(p,null)),a.a.createElement(m.a,null,a.a.createElement(m.a.Group,{controlId:"author"},a.a.createElement(m.a.Control,{type:"text",placeholder:"\u304a\u540d\u524d\u3092\u3054\u5165\u529b\u304f\u3060\u3055\u3044",onChange:function(e){u(function(e){return{type:"PUT_AUTHOR",payload:e}}(e.target.value))}})),a.a.createElement(m.a.Group,null,a.a.createElement(d.a,{className:"form-control",placeholder:"\u3054\u6027\u7656\u3092\u3054\u5165\u529b\u304f\u3060\u3055\u3044",value:n,onChange:function(e){r(e.target.value)}}))),a.a.createElement("div",{className:"text-right"},a.a.createElement(f.a,{variant:"link",style:{fill:"#6c757d"},onClick:function(){return Y(s,c,u)}},a.a.createElement(K,null)),a.a.createElement(f.a,{variant:"link",disabled:i,style:{fill:"#1da1f2"},onClick:function(){return function(e,t,n,r,a){return e.postSeihekis(t,n).then((function(){return Y(e,t,a)})).then((function(){return r("")}))}(s,c,n,r,u)}},a.a.createElement(M,null))),a.a.createElement("div",{className:"m-3"}),a.a.createElement(B,{value:l.seihekis.collection,onUpvotesClick:function(e){return function(e,t,n,r){t.patchSeihekiUpvotes(e.seihekiId).then((function(){return r(P(t,e.seihekiId))}))}(e,s,l.seihekis.collection,u)}}))}function Y(e,t,n){n(function(e,t){return{type:"FETCH_SEIHEKIS",payload:t.getSeihekis(e,100,0,"exclude-history").then((function(e){return Object(T.a)(Object(T.a)({},e),{},{collection:e.collection.reverse()})}))}}(t,e))}function q(e){return a.a.createElement("div",{className:"border"},a.a.createElement("div",{className:"m-4",style:{fontSize:"2rem"}},"\u73fe\u5728\u306e\u304a\u984c",a.a.createElement("div",{className:"text-right",style:{float:"right"},"data-toggle":"tooltip",title:"Reload Theme",onClick:function(){return e.onReloadClick()}},a.a.createElement("div",{style:{fill:"#6c757d"}},a.a.createElement(K,null)))))}function V(){return a.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 16 16",className:"bi bi-question-circle",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),a.a.createElement("path",{d:"M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"}))}var Q=n(90);function W(){return a.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))}function X(e){var t=e.value;return a.a.createElement(k.a,null,a.a.createElement(C.a,{xs:{span:4,offset:2},onClick:function(t){return e.onCommentClick(t)}},a.a.createElement(g,null,t.commentIds.length)),a.a.createElement(C.a,{xs:{span:4},onClick:function(t){return e.onUpvotesClick(t)}},a.a.createElement(w,null,t.upvotes)),a.a.createElement(C.a,null,a.a.createElement(Q.a,null,a.a.createElement(Q.a.Toggle,{variant:"link"},a.a.createElement("span",{style:{fill:"#6c757d"}},a.a.createElement(W,null))),a.a.createElement(Q.a.Menu,null,a.a.createElement(Q.a.Item,{onClick:function(t){return e.onShuffleClick(t)}},"\u304a\u984c\u3092\u30b7\u30e3\u30c3\u30d5\u30eb\u3059\u308b"),a.a.createElement(Q.a.Item,{onClick:function(t){return e.onDisposeClick(t)}},"\u304a\u984c\u3092\u5c65\u6b74\u306b\u9001\u308b")))))}function Z(e){var t=e.value;return a.a.createElement("div",{className:"border"},a.a.createElement("div",{className:"m-4 d-flex flex-row"},a.a.createElement("div",{className:"mr-4",onClick:function(t){return e.onCommentClick(t)},style:{color:"#6c757d"}},a.a.createElement(V,null)),a.a.createElement("div",{onClick:function(t){return e.onCommentClick(t)}},a.a.createElement(E,null,t.content))),a.a.createElement(X,{value:t,onUpvotesClick:function(t){return e.onUpvotesClick(t)},onCommentClick:function(t){return e.onCommentClick(t)},onDisposeClick:function(t){return e.onDisposeClick(t)},onShuffleClick:function(t){return e.onShuffleClick(t)}}))}function $(e){var t=e.value,n=a.a.useState(!1),r=Object(h.a)(n,2),c=r[0],i=r[1],l=a.a.useState(""),u=Object(h.a)(l,2),s=u[0],p=u[1],E=Object(o.c)((function(e){return e.author})),k=s<=0||E<=0,C=a.a.useContext(D),b=Object(o.b)();return a.a.createElement("div",null,a.a.createElement(Z,{value:t,onUpvotesClick:function(){return ee(t.seihekiId,C,b)},onCommentClick:function(){return i(!0)},onDisposeClick:function(t){return e.onDisposeClick(t)},onShuffleClick:function(t){return e.onShuffleClick(t)}}),a.a.createElement(v.a,{show:c,onHide:function(){return i(!1)}},a.a.createElement(v.a.Header,{closeButton:!0},a.a.createElement(v.a.Title,null,"\u304a\u5b22\u69d8\u5fa1\u4e00\u540c\u304b\u3089\u306e\u3054\u8a55\u6ce8")),a.a.createElement(v.a.Body,null,a.a.createElement(Z,{value:t,onUpvotesClick:function(){return ee(t.seihekiId,C,b)},onCommentClick:function(){},onDisposeClick:function(t){return e.onDisposeClick(t)},onShuffleClick:function(t){return e.onShuffleClick(t)}}),a.a.createElement("div",{className:"p-1",style:{backgroundColor:"#e6ecf0"}}),a.a.createElement(m.a,null,a.a.createElement(m.a.Group,{className:"mb-0"},a.a.createElement(d.a,{className:"form-control",placeholder:"\u8a55\u6ce8\u3092\u3054\u5165\u529b\u304f\u3060\u3055\u3044",value:s,onChange:function(e){return p(e.target.value)}}))),a.a.createElement("div",{className:"text-right"},a.a.createElement(f.a,{variant:"link",disabled:k,style:{fill:"#1da1f2"},onClick:function(){return function(e,t,n,r,a,c){return r.postSeihekiComment(e,t,n).then((function(){return c("")})).then((function(){return a(P(r,e))}))}(t.seihekiId,E,s,C,b,p)}},a.a.createElement(M,null))),a.a.createElement(z,{seihekiId:t.seihekiId,commentIds:t.commentIds}))))}function ee(e,t,n){t.patchSeihekiUpvotes(e).then((function(){n(P(t,e))}))}function te(e){var t=Object(o.c)((function(e){return e.theme})),n=Object(o.c)((function(e){return e.history})),r=Object(o.b)(),c=a.a.useContext(D);return a.a.useEffect((function(){ne(c,r)}),[]),a.a.createElement(l.a,null,a.a.createElement(q,{onReloadClick:function(){return ne(c,r)}}),a.a.createElement($,{value:t.theme,onDisposeClick:function(){return function(e,t,n){t.deleteCard(e).then((function(){return ne(t,n)})).then((function(){}))}(t.theme.seihekiId,c,r)},onShuffleClick:function(){return function(e,t){e.postCards().then((function(){return ne(e,t)}))}(c,r)}}),a.a.createElement("div",{className:"p-1",style:{backgroundColor:"#e6ecf0"}}),a.a.createElement(B,{value:n.history.collection}))}function ne(e,t){t(function(e){return{type:"FETCH_THEME",payload:e.getCards(1)}}(e)),t(function(e){return{type:"FETCH_HISTORY",payload:e.getHistories(100)}}(e))}function re(){return a.a.createElement(l.a,null,a.a.createElement(u.a,{defaultActiveKey:"my-seihekis",className:"m-2"},a.a.createElement(s.a,{eventKey:"my-seihekis",title:"Home"},a.a.createElement(J,null)),a.a.createElement(s.a,{eventKey:"theme",title:"Timeline"},a.a.createElement(te,null))))}var ae=n(24),ce=n(63);var ie={history:{sizeRemains:0,nextOffset:0,collection:[]},pending:!1,fulfilled:!1,rejected:!1};var oe={seihekis:{sizeRemains:0,nextOffset:0,collection:[]},pending:!1,fulfilled:!1,rejected:!1};var le={theme:{seihekiId:null,author:"",content:"Theme will be shown here.",upvotes:0,commentIds:[]},pending:!1,fulfilled:!1,rejected:!1};var ue=Object(ae.c)({author:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUT_AUTHOR":return t.payload}return e},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_HISTORY_PENDING":return{history:e.history,pending:!0,fulfilled:!1,rejected:!1};case"FETCH_HISTORY_REJECTED":return{history:e.history,pending:!1,fulfilled:!1,rejected:!0};case"FETCH_HISTORY_FULFILLED":return{history:t.payload,pending:!1,fulfilled:!0,rejected:!1};case"FETCH_SEIHEKI_FULFILLED":var n=t.payload,r=Object(O.a)(e.history.collection),a=r.findIndex((function(e){return e.seihekiId===n.seihekiId}));if(a>=0)return r[a]=n,Object(T.a)(Object(T.a)({},e),{},{history:Object(T.a)(Object(T.a)({},e.history),{},{collection:r})})}return e},seihekis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SEIHEKIS_PENDING":return{seihekis:e.seihekis,pending:!0,fulfilled:!1,rejected:!1};case"FETCH_SEIHEKIS_REJECTED":return{seihekis:e.seihekis,pending:!1,fulfilled:!1,rejected:!0};case"FETCH_SEIHEKIS_FULFILLED":return{seihekis:t.payload,pending:!1,fulfilled:!0,rejected:!1};case"FETCH_SEIHEKI_FULFILLED":var n=t.payload,r=Object(O.a)(e.seihekis.collection),a=r.findIndex((function(e){return e.seihekiId===n.seihekiId}));if(a<0)break;return r[a]=n,Object(T.a)(Object(T.a)({},e),{},{seihekis:Object(T.a)(Object(T.a)({},e.seihekis),{},{collection:r})})}return e},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_THEME_PENDING":return{theme:e.theme,pending:!0,fulfilled:!1,rejected:!1};case"FETCH_THEME_REJECTED":return{theme:e.theme,pending:!1,fulfilled:!1,rejected:!0};case"FETCH_THEME_FULFILLED":return t.payload.collection.length<=0?le:{theme:t.payload.collection[0],pending:!1,fulfilled:!0,rejected:!1};case"FETCH_SEIHEKI_FULFILLED":var n=t.payload;if(n.seihekiId!==e.theme.seihekiId)break;return Object(T.a)(Object(T.a)({},e),{},{theme:n})}return e}}),se=Object(ae.a)(ce.a),he=Object(ae.d)(ue,se);i.a.render(a.a.createElement(o.a,{store:he},a.a.createElement(D.Provider,{value:new R("https://hyzhc0j439.execute-api.ap-northeast-1.amazonaws.com/development")},a.a.createElement(re,null))),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.2c875164.chunk.js.map